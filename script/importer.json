{
  "files": [{
    "name": "Installer",
    "type": "server_js",
    "source": "/*******************************\n********* Installation *********\n********************************\n\n\n1. Cliquez ci-dessus sur \u0027Exécuter\u0027, puis sur \u0027installer\u0027\n2. Si des autorisations vous sont demandées, acceptez les\n3. Patientez jusqu\u0027à ce que le cadre jaune \u0027Exécution de la fonction installer...\u0027 disparaisse\n4. Vous pouvez fermer cette page, vous recevrez très rapidement un mail sur votre adresse Gmail\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n*/\n\nvar VERSION \u003d 1;\n\nvar DATA \u003d \"${DATA}\";\n\nvar bytesDecoded \u003d Utilities.base64Decode(DATA, Utilities.Charset.UTF_8);\nvar stringDecoded \u003d Utilities.newBlob(bytesDecoded).getDataAsString();\nvar objectDecoded \u003d JSON.parse(stringDecoded);\n\nvar PROJECT_ID \u003d objectDecoded.projectId;\nvar RESOURCES_ID \u003d objectDecoded.resourcesId;\nvar CALENDAR_ID \u003d objectDecoded.calendarId;\nvar COLOR_PATTERNS \u003d objectDecoded.colorPatterns;\n\nvar scriptProperties \u003d PropertiesService.getScriptProperties();\n\nfunction installer() {\n  if (scriptProperties.getProperty(\u0027installed\u0027)) {\n    return;\n  }\n\n  // Install trigger\n  \n  var hour \u003d Math.floor(Math.random() * (18 - 8)) + 8; // Between 8:00 and 18 - 1 \u003d 17:00\n  \n  ScriptApp.newTrigger(\u0027importNextWeek\u0027)\n    .timeBased()\n    .onWeekDay(ScriptApp.WeekDay.SUNDAY)\n    .atHour(hour)\n    .create();\n  \n  // Create calendar\n  \n  var calendarId \u003d CALENDAR_ID;\n  if (!calendarId) {\n    calendarId \u003d createCalendar_();\n  }\n  var calendar \u003d CalendarApp.getCalendarById(calendarId);\n  if (!calendar) {\n    Logger.log(\u0027The given calendar doesn\\\u0027t exist\u0027);\n    calendarId \u003d createCalendar_();\n  }\n  scriptProperties.setProperty(\u0027calendar_id\u0027, calendarId);\n  \n  // Send installed mail\n  \n  sendMail_({\n    title: \"Importateur emploi du temps UPEC installé\",\n    headerTitle: \u0027Importateur emploi du temps UPEC\u0027,\n    headerSubtitle: \u0027Notification\u0027,\n    mainTitle: \u0027Importateur emploi du temps installé\u0027,\n    mainSubtitle: \u0027Identifiant agenda: \u0027 + calendarId,\n    mainContent: \"L\u0027importateur d\u0027emploi du temps UPEC a été installé avec succès. Un nouveau calendrier Google a été créé sous le nom `Emploi du temps UPEC`. Veuillez conserver cet email. Il contient l\u0027identifiant de votre agenda (ci-dessus) qui sera utile si quelque chose dysfonctionnait et si une mise à jour de l\u0027importateur était disponible. Vous recevrez très bientôt un mail vous indiquant le statut de l\u0027importation pour cette semaine. Par la suite, l\u0027importation se fera automatiquement tous les dimanches entre \" + (hour - 1) + \":45 et \" + hour + \":15, à partir de dimanche prochain, pour la semaine suivante. Vous recevrez un mail vous indiquant si l\u0027importation est un succès ou un échec toutes les semaines. N\u0027hésitez pas à vérifier tous les dimanches l\u0027exactitude de l\u0027importation en consultant manuellement l\u0027emploi du temps officiel de l\u0027UPEC. Enfin, sachez que les IDs projet et ressource correspondant à votre emploi du temps changent tous les semestres et tous les ans. Ainsi, vous devrez réinstaller l\u0027importateur à chaque nouveau semestre.\",\n    buttonLink: \u0027https://ade.u-pec.fr/direct/index.jsp?projectId\u003d\u0027 + PROJECT_ID + \u0027\u0026resources\u003d\u0027 + RESOURCES_ID,\n    buttonText: \"Aller vers l\u0027ADE officiel de l\u0027UPEC\"\n  });\n  \n  // Set properties\n  \n  scriptProperties.setProperty(\u0027project_id\u0027, PROJECT_ID.toString()); // Else stored as float\n  scriptProperties.setProperty(\u0027resources_id\u0027, RESOURCES_ID.toString());\n  scriptProperties.setProperty(\u0027color_patterns\u0027, JSON.stringify(COLOR_PATTERNS));\n  scriptProperties.setProperty(\u0027disabled\u0027, false);\n  scriptProperties.setProperty(\u0027first_import\u0027, true);\n  scriptProperties.setProperty(\u0027version\u0027, VERSION.toString());\n  scriptProperties.setProperty(\u0027installed\u0027, true);\n  \n  importNextWeek();\n}\n\nfunction createCalendar_() {\n  var calendar \u003d CalendarApp.createCalendar(\u0027Emploi du temps UPEC\u0027, {\n    summary: \u0027Emploi du temps UPEC.\u0027,\n    color: \"#E00034\",\n    timeZone: \"Europe/Paris\"\n  });\n  var calendarId \u003d calendar.getId();\n  Logger.log(\u0027Created the calendar \u0027 + calendar.getName() + \u0027, with the ID \u0027 + calendarId);\n  scriptProperties.setProperty(\u0027calendar_id\u0027, calendarId);\n  return calendarId;\n}"
  }, {
    "name": "Importer",
    "type": "server_js",
    "source": "var scriptProperties \u003d PropertiesService.getScriptProperties();\n\nfunction importNextWeek() {\n  // Check if not installed / disabled\n  \n  if (!scriptProperties.getProperty(\u0027installed\u0027) || scriptProperties.getProperty(\u0027disabled\u0027) \u003d\u003d\u003d \u0027true\u0027) {\n    return;\n  }\n  \n  var nextMonday\n  if (scriptProperties.getProperty(\u0027first_import\u0027) \u003d\u003d\u003d \u0027true\u0027) {\n    nextMonday \u003d moment().isoWeekday(1);\n    scriptProperties.setProperty(\u0027first_import\u0027, false);\n  } else {\n    nextMonday \u003d moment().isoWeekday(8);\n  }\n  var fridayAfterMonday \u003d moment(nextMonday).isoWeekday(5);\n  \n  // Check if running version still functional\n  \n  var functional \u003d checkIfFunctional_();\n  if (!functional) {\n    sendMail_({\n      title: \"Désactivation de l\u0027importation\",\n      headerTitle: \u0027Importateur emploi du temps UPEC\u0027,\n      headerSubtitle: \u0027Notification\u0027,\n      mainTitle: \"Désactivation de l\u0027importation automatique de l\u0027emploi du temps\",\n      mainSubtitle: \"L\u0027importateur n\u0027est plus compatible\",\n      mainContent: \"L\u0027importation automatique est désactivée. Par conséquent, l\u0027emploi du temps de la semaine du \" + nextMonday.format(\u0027DD/MM/YYYY\u0027) + \" ne sera pas importé. Il semble en effet que la version de l\u0027importateur que vous utilisez n\u0027est plus compatible avec le système d\u0027emploi du temps de l\u0027UPEC. Une nouvelle version de l\u0027importateur, compatible avec le nouveau système, est peut-être disponible. Cliquez sur le bouton ci-dessous pour voir si il existe une mise à jour, sachant que votre version actuelle est la v\" + scriptProperties.getProperty(\u0027version\u0027) + \". Consultez également la page facebook de l\u0027importateur (lien en bas du mail) pour de plus amples informations.\",\n      buttonLink: \u0027https://marvinroger.github.io/upec-timetable-importer\u0027,\n      buttonText: \"Aller vers le site de l\u0027importateur\"\n    });\n    scriptProperties.setProperty(\u0027disabled\u0027, true);\n    return;\n  }\n  \n  // Get next week timetable\n  \n  var response \u003d UrlFetchApp.fetch(\"https://betterupectimetable-nivramdu94.rhcloud.com/timetable\", {\n    muteHttpExceptions: true,\n    method: \"post\",\n    contentType: \"application/json\",\n    payload: JSON.stringify({\n      projectId: parseInt(scriptProperties.getProperty(\u0027project_id\u0027)),\n      resourcesId: parseInt(scriptProperties.getProperty(\u0027resources_id\u0027)),\n      startDate: nextMonday.toDate(),\n      endDate: fridayAfterMonday.toDate()\n    })\n  });\n  \n  if (response.getResponseCode() !\u003d 200) {\n    notifyImportFailed_(nextMonday);\n    return;\n  }\n  \n  var timetable \u003d JSON.parse(response.getContentText());\n  \n  // Get UPEC calendar\n  \n  var calendarId \u003d scriptProperties.getProperty(\u0027calendar_id\u0027);\n  var calendar \u003d CalendarApp.getCalendarById(calendarId);\n  if (!calendar) {\n    sendMail_({\n      title: \"Échec d\u0027importation de l\u0027emploi du temps\",\n      headerTitle: \u0027Importateur emploi du temps UPEC\u0027,\n      headerSubtitle: \u0027Notification\u0027,\n      mainTitle: \u0027Emploi du temps non importé\u0027,\n      mainSubtitle: \u0027Une erreur est survenue\u0027,\n      mainContent: \"L\u0027importation de l\u0027emploi du temps de la semaine du \" + nextMonday.format(\u0027DD/MM/YYYY\u0027) + \" dans l\u0027agenda Google a échoué. En effet, l\u0027agenda Google `Emploi du temps UPEC` n\u0027existe plus. Vous devez réinstaller l\u0027importateur pour qu\u0027il fonctionne à nouveau, sans quoi votre emploi du temps ne sera plus jamais importé dans votre agenda Google à nouveau.\",\n      buttonLink: \u0027https://marvinroger.github.io/upec-timetable-importer\u0027,\n      buttonText: \"Aller vers le site de l\u0027importateur\"\n    });\n    scriptProperties.setProperty(\u0027disabled\u0027, true);\n    return;\n  }\n  \n  // Import events\n  \n  var eventsImported \u003d 0;\n  \n  for (var i \u003d 0; i \u003c timetable.timetable.length; i++) {\n    for (var j \u003d 0; j \u003c timetable.timetable[i].events.length; j++) {\n      var event \u003d timetable.timetable[i].events[j];\n      addEvent_(calendarId, event.summary, new Date(event.start), new Date(event.end), event.description, event.location);\n      eventsImported++;\n    }\n  }\n  \n  // Notify of success\n  \n  Logger.log(eventsImported + \u0027 events imported\u0027);\n  notifyImportSuccessfull_(eventsImported, nextMonday);\n}\n\nfunction addEvent_(calendarId, summary, start, end, description, location) {\n  if (scriptProperties.getProperty(\u0027color_patterns\u0027) !\u003d\u003d \u0027false\u0027) {\n    var event \u003d {\n      summary: summary,\n      location: location,\n      description: description,\n      start: {\n        dateTime: start.toISOString()\n      },\n      end: {\n        dateTime: end.toISOString()\n      },\n      colorId: summaryToColorId_(summary)\n    };\n    var calendarEvent \u003d Calendar.Events.insert(event, calendarId);\n  } else {\n    CalendarApp.getCalendarById(calendarId).createEvent(summary, start, end, {\n      location: location,\n      description: description\n    });\n  }\n}\n\nfunction notifyImportSuccessfull_(eventsImported, nextMonday) {\n  sendMail_({\n    title: \u0027Emploi du temps importé\u0027,\n    headerTitle: \u0027Importateur emploi du temps UPEC\u0027,\n    headerSubtitle: \u0027Notification\u0027,\n    mainTitle: \u0027Emploi du temps importé avec succès\u0027,\n    mainSubtitle: eventsImported + \u0027 évènement(s) importé(s)\u0027,\n    mainContent: \"L\u0027emploi du temps importé dans l\u0027agenda Google est celui de la semaine du \" + nextMonday.format(\u0027DD/MM/YYYY\u0027) + \". N\u0027oubliez pas de vérifier que tout a bien été importé en allant sur l\u0027agenda officiel de l\u0027UPEC.\",\n    buttonLink: \u0027https://ade.u-pec.fr/direct/index.jsp?projectId\u003d\u0027 + scriptProperties.getProperty(\u0027project_id\u0027) + \u0027\u0026resources\u003d\u0027 + scriptProperties.getProperty(\u0027resources_id\u0027),\n    buttonText: \"Aller vers l\u0027ADE officiel de l\u0027UPEC\"\n  });\n}\n\nfunction notifyImportFailed_(nextMonday) {\n  sendMail_({\n    title: \"Échec d\u0027importation de l\u0027emploi du temps\",\n    headerTitle: \u0027Importateur emploi du temps UPEC\u0027,\n    headerSubtitle: \u0027Notification\u0027,\n    mainTitle: \u0027Emploi du temps non importé\u0027,\n    mainSubtitle: \u0027Une erreur est survenue\u0027,\n    mainContent: \"L\u0027importation de l\u0027emploi du temps de la semaine du \" + nextMonday.format(\u0027DD/MM/YYYY\u0027) + \" dans l\u0027agenda Google a échoué. Consultez vos horaires sur l\u0027agenda officiel de l\u0027UPEC.\",\n    buttonLink: \u0027https://ade.u-pec.fr/direct/index.jsp?projectId\u003d\u0027 + scriptProperties.getProperty(\u0027project_id\u0027) + \u0027\u0026resources\u003d\u0027 + scriptProperties.getProperty(\u0027resources_id\u0027),\n    buttonText: \"Aller vers l\u0027ADE officiel de l\u0027UPEC\"\n  });\n}\n\nfunction checkIfFunctional_() {\n  var minimumWorkingVersionResponse \u003d UrlFetchApp.fetch(\"https://marvinroger.github.io/upec-timetable-importer/script/minimum-working-version\", {\n    muteHttpExceptions: true\n  });\n\n  if (minimumWorkingVersionResponse.getResponseCode() \u003d\u003d 200) {\n    var minimumWorkingVersion \u003d parseInt(minimumWorkingVersionResponse.getContentText().replace(\u0027\\n\u0027, \u0027\u0027));\n    \n    if (parseInt(scriptProperties.getProperty(\u0027version\u0027)) \u003e\u003d minimumWorkingVersion) {\n      return true;\n    } else {\n      return false;\n    }\n  } else {\n    return true; // GitHub error, let\u0027s assume it\u0027s still ok\n  }\n}"
  }, {
    "name": "Colors",
    "type": "server_js",
    "source": "var COLORS \u003d {\n  SOFT_BLUE: 1,\n  LIME: 2,\n  PURPLE: 3,\n  PINK: 4,\n  YELLOW: 5,\n  BEIGE: 6,\n  CYAN: 7,\n  GRAY: 8,\n  BLUE: 9,\n  GREEN: 10,\n  RED: 11\n};\n\nfunction summaryToColorId_(summary) {\n  summary \u003d summary.toLowerCase();\n  \n  var patterns \u003d JSON.parse(scriptProperties.getProperty(\u0027color_patterns\u0027));\n  \n  for (key in patterns) {\n    if (patterns.hasOwnProperty(key)) {\n      for (var i \u003d 0; i \u003c patterns[key].length; i++) {\n        if (summary.indexOf(patterns[key][i]) \u003e -1) {\n          return COLORS[key];\n        }\n      }\n    }\n  }\n  \n  return COLORS.PINK;\n}"
  }, {
    "name": "Moment",
    "type": "server_js",
    "source": "//! moment.js\n//! version : 2.10.6\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n!function(a,b){\"object\"\u003d\u003dtypeof exports\u0026\u0026\"undefined\"!\u003dtypeof module?module.exports\u003db():\"function\"\u003d\u003dtypeof define\u0026\u0026define.amd?define(b):a.moment\u003db()}(this,function(){\"use strict\";function a(){return Hc.apply(null,arguments)}function b(a){Hc\u003da}function c(a){return\"[object Array]\"\u003d\u003d\u003dObject.prototype.toString.call(a)}function d(a){return a instanceof Date||\"[object Date]\"\u003d\u003d\u003dObject.prototype.toString.call(a)}function e(a,b){var c,d\u003d[];for(c\u003d0;c\u003ca.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)\u0026\u0026(a[c]\u003db[c]);return f(b,\"toString\")\u0026\u0026(a.toString\u003db.toString),f(b,\"valueOf\")\u0026\u0026(a.valueOf\u003db.valueOf),a}function h(a,b,c,d){return Ca(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null\u003d\u003da._pf\u0026\u0026(a._pf\u003di()),a._pf}function k(a){if(null\u003d\u003da._isValid){var b\u003dj(a);a._isValid\u003d!(isNaN(a._d.getTime())||!(b.overflow\u003c0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict\u0026\u0026(a._isValid\u003da._isValid\u0026\u00260\u003d\u003d\u003db.charsLeftOver\u0026\u00260\u003d\u003d\u003db.unusedTokens.length\u0026\u0026void 0\u003d\u003d\u003db.bigHour)}return a._isValid}function l(a){var b\u003dh(NaN);return null!\u003da?g(j(b),a):j(b).userInvalidated\u003d!0,b}function m(a,b){var c,d,e;if(\"undefined\"!\u003dtypeof b._isAMomentObject\u0026\u0026(a._isAMomentObject\u003db._isAMomentObject),\"undefined\"!\u003dtypeof b._i\u0026\u0026(a._i\u003db._i),\"undefined\"!\u003dtypeof b._f\u0026\u0026(a._f\u003db._f),\"undefined\"!\u003dtypeof b._l\u0026\u0026(a._l\u003db._l),\"undefined\"!\u003dtypeof b._strict\u0026\u0026(a._strict\u003db._strict),\"undefined\"!\u003dtypeof b._tzm\u0026\u0026(a._tzm\u003db._tzm),\"undefined\"!\u003dtypeof b._isUTC\u0026\u0026(a._isUTC\u003db._isUTC),\"undefined\"!\u003dtypeof b._offset\u0026\u0026(a._offset\u003db._offset),\"undefined\"!\u003dtypeof b._pf\u0026\u0026(a._pf\u003dj(b)),\"undefined\"!\u003dtypeof b._locale\u0026\u0026(a._locale\u003db._locale),Jc.length\u003e0)for(c in Jc)d\u003dJc[c],e\u003db[d],\"undefined\"!\u003dtypeof e\u0026\u0026(a[d]\u003de);return a}function n(b){m(this,b),this._d\u003dnew Date(null!\u003db._d?b._d.getTime():NaN),Kc\u003d\u003d\u003d!1\u0026\u0026(Kc\u003d!0,a.updateOffset(this),Kc\u003d!1)}function o(a){return a instanceof n||null!\u003da\u0026\u0026null!\u003da._isAMomentObject}function p(a){return 0\u003ea?Math.ceil(a):Math.floor(a)}function q(a){var b\u003d+a,c\u003d0;return 0!\u003d\u003db\u0026\u0026isFinite(b)\u0026\u0026(c\u003dp(b)),c}function r(a,b,c){var d,e\u003dMath.min(a.length,b.length),f\u003dMath.abs(a.length-b.length),g\u003d0;for(d\u003d0;e\u003ed;d++)(c\u0026\u0026a[d]!\u003d\u003db[d]||!c\u0026\u0026q(a[d])!\u003d\u003dq(b[d]))\u0026\u0026g++;return g+f}function s(){}function t(a){return a?a.toLowerCase().replace(\"_\",\"-\"):a}function u(a){for(var b,c,d,e,f\u003d0;f\u003ca.length;){for(e\u003dt(a[f]).split(\"-\"),b\u003de.length,c\u003dt(a[f+1]),c\u003dc?c.split(\"-\"):null;b\u003e0;){if(d\u003dv(e.slice(0,b).join(\"-\")))return d;if(c\u0026\u0026c.length\u003e\u003db\u0026\u0026r(e,c,!0)\u003e\u003db-1)break;b--}f++}return null}function v(a){var b\u003dnull;if(!Lc[a]\u0026\u0026\"undefined\"!\u003dtypeof module\u0026\u0026module\u0026\u0026module.exports)try{b\u003dIc._abbr,require(\"./locale/\"+a),w(b)}catch(c){}return Lc[a]}function w(a,b){var c;return a\u0026\u0026(c\u003d\"undefined\"\u003d\u003dtypeof b?y(a):x(a,b),c\u0026\u0026(Ic\u003dc)),Ic._abbr}function x(a,b){return null!\u003d\u003db?(b.abbr\u003da,Lc[a]\u003dLc[a]||new s,Lc[a].set(b),w(a),Lc[a]):(delete Lc[a],null)}function y(a){var b;if(a\u0026\u0026a._locale\u0026\u0026a._locale._abbr\u0026\u0026(a\u003da._locale._abbr),!a)return Ic;if(!c(a)){if(b\u003dv(a))return b;a\u003d[a]}return u(a)}function z(a,b){var c\u003da.toLowerCase();Mc[c]\u003dMc[c+\"s\"]\u003dMc[b]\u003da}function A(a){return\"string\"\u003d\u003dtypeof a?Mc[a]||Mc[a.toLowerCase()]:void 0}function B(a){var b,c,d\u003d{};for(c in a)f(a,c)\u0026\u0026(b\u003dA(c),b\u0026\u0026(d[b]\u003da[c]));return d}function C(b,c){return function(d){return null!\u003dd?(E(this,b,d),a.updateOffset(this,c),this):D(this,b)}}function D(a,b){return a._d[\"get\"+(a._isUTC?\"UTC\":\"\")+b]()}function E(a,b,c){return a._d[\"set\"+(a._isUTC?\"UTC\":\"\")+b](c)}function F(a,b){var c;if(\"object\"\u003d\u003dtypeof a)for(c in a)this.set(c,a[c]);else if(a\u003dA(a),\"function\"\u003d\u003dtypeof this[a])return this[a](b);return this}function G(a,b,c){var d\u003d\"\"+Math.abs(a),e\u003db-d.length,f\u003da\u003e\u003d0;return(f?c?\"+\":\"\":\"-\")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function H(a,b,c,d){var e\u003dd;\"string\"\u003d\u003dtypeof d\u0026\u0026(e\u003dfunction(){return this[d]()}),a\u0026\u0026(Qc[a]\u003de),b\u0026\u0026(Qc[b[0]]\u003dfunction(){return G(e.apply(this,arguments),b[1],b[2])}),c\u0026\u0026(Qc[c]\u003dfunction(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function I(a){return a.match(/\\[[\\s\\S]/)?a.replace(/^\\[|\\]$/g,\"\"):a.replace(/\\\\/g,\"\")}function J(a){var b,c,d\u003da.match(Nc);for(b\u003d0,c\u003dd.length;c\u003eb;b++)Qc[d[b]]?d[b]\u003dQc[d[b]]:d[b]\u003dI(d[b]);return function(e){var f\u003d\"\";for(b\u003d0;c\u003eb;b++)f+\u003dd[b]instanceof Function?d[b].call(e,a):d[b];return f}}function K(a,b){return a.isValid()?(b\u003dL(b,a.localeData()),Pc[b]\u003dPc[b]||J(b),Pc[b](a)):a.localeData().invalidDate()}function L(a,b){function c(a){return b.longDateFormat(a)||a}var d\u003d5;for(Oc.lastIndex\u003d0;d\u003e\u003d0\u0026\u0026Oc.test(a);)a\u003da.replace(Oc,c),Oc.lastIndex\u003d0,d-\u003d1;return a}function M(a){return\"function\"\u003d\u003dtypeof a\u0026\u0026\"[object Function]\"\u003d\u003d\u003dObject.prototype.toString.call(a)}function N(a,b,c){dd[a]\u003dM(b)?b:function(a){return a\u0026\u0026c?c:b}}function O(a,b){return f(dd,a)?dd[a](b._strict,b._locale):new RegExp(P(a))}function P(a){return a.replace(\"\\\\\",\"\").replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$\u0026\")}function Q(a,b){var c,d\u003db;for(\"string\"\u003d\u003dtypeof a\u0026\u0026(a\u003d[a]),\"number\"\u003d\u003dtypeof b\u0026\u0026(d\u003dfunction(a,c){c[b]\u003dq(a)}),c\u003d0;c\u003ca.length;c++)ed[a[c]]\u003dd}function R(a,b){Q(a,function(a,c,d,e){d._w\u003dd._w||{},b(a,d._w,d,e)})}function S(a,b,c){null!\u003db\u0026\u0026f(ed,a)\u0026\u0026ed[a](b,c._a,c,a)}function T(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function U(a){return this._months[a.month()]}function V(a){return this._monthsShort[a.month()]}function W(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse\u003d[],this._longMonthsParse\u003d[],this._shortMonthsParse\u003d[]),d\u003d0;12\u003ed;d++){if(e\u003dh([2e3,d]),c\u0026\u0026!this._longMonthsParse[d]\u0026\u0026(this._longMonthsParse[d]\u003dnew RegExp(\"^\"+this.months(e,\"\").replace(\".\",\"\")+\"$\",\"i\"),this._shortMonthsParse[d]\u003dnew RegExp(\"^\"+this.monthsShort(e,\"\").replace(\".\",\"\")+\"$\",\"i\")),c||this._monthsParse[d]||(f\u003d\"^\"+this.months(e,\"\")+\"|^\"+this.monthsShort(e,\"\"),this._monthsParse[d]\u003dnew RegExp(f.replace(\".\",\"\"),\"i\")),c\u0026\u0026\"MMMM\"\u003d\u003d\u003db\u0026\u0026this._longMonthsParse[d].test(a))return d;if(c\u0026\u0026\"MMM\"\u003d\u003d\u003db\u0026\u0026this._shortMonthsParse[d].test(a))return d;if(!c\u0026\u0026this._monthsParse[d].test(a))return d}}function X(a,b){var c;return\"string\"\u003d\u003dtypeof b\u0026\u0026(b\u003da.localeData().monthsParse(b),\"number\"!\u003dtypeof b)?a:(c\u003dMath.min(a.date(),T(a.year(),b)),a._d[\"set\"+(a._isUTC?\"UTC\":\"\")+\"Month\"](b,c),a)}function Y(b){return null!\u003db?(X(this,b),a.updateOffset(this,!0),this):D(this,\"Month\")}function Z(){return T(this.year(),this.month())}function $(a){var b,c\u003da._a;return c\u0026\u0026-2\u003d\u003d\u003dj(a).overflow\u0026\u0026(b\u003dc[gd]\u003c0||c[gd]\u003e11?gd:c[hd]\u003c1||c[hd]\u003eT(c[fd],c[gd])?hd:c[id]\u003c0||c[id]\u003e24||24\u003d\u003d\u003dc[id]\u0026\u0026(0!\u003d\u003dc[jd]||0!\u003d\u003dc[kd]||0!\u003d\u003dc[ld])?id:c[jd]\u003c0||c[jd]\u003e59?jd:c[kd]\u003c0||c[kd]\u003e59?kd:c[ld]\u003c0||c[ld]\u003e999?ld:-1,j(a)._overflowDayOfYear\u0026\u0026(fd\u003eb||b\u003ehd)\u0026\u0026(b\u003dhd),j(a).overflow\u003db),a}function _(b){a.suppressDeprecationWarnings\u003d\u003d\u003d!1\u0026\u0026\"undefined\"!\u003dtypeof console\u0026\u0026console.warn\u0026\u0026console.warn(\"Deprecation warning: \"+b)}function aa(a,b){var c\u003d!0;return g(function(){return c\u0026\u0026(_(a+\"\\n\"+(new Error).stack),c\u003d!1),b.apply(this,arguments)},b)}function ba(a,b){od[a]||(_(b),od[a]\u003d!0)}function ca(a){var b,c,d\u003da._i,e\u003dpd.exec(d);if(e){for(j(a).iso\u003d!0,b\u003d0,c\u003dqd.length;c\u003eb;b++)if(qd[b][1].exec(d)){a._f\u003dqd[b][0];break}for(b\u003d0,c\u003drd.length;c\u003eb;b++)if(rd[b][1].exec(d)){a._f+\u003d(e[6]||\" \")+rd[b][0];break}d.match(ad)\u0026\u0026(a._f+\u003d\"Z\"),va(a)}else a._isValid\u003d!1}function da(b){var c\u003dsd.exec(b._i);return null!\u003d\u003dc?void(b._d\u003dnew Date(+c[1])):(ca(b),void(b._isValid\u003d\u003d\u003d!1\u0026\u0026(delete b._isValid,a.createFromInputFallback(b))))}function ea(a,b,c,d,e,f,g){var h\u003dnew Date(a,b,c,d,e,f,g);return 1970\u003ea\u0026\u0026h.setFullYear(a),h}function fa(a){var b\u003dnew Date(Date.UTC.apply(null,arguments));return 1970\u003ea\u0026\u0026b.setUTCFullYear(a),b}function ga(a){return ha(a)?366:365}function ha(a){return a%4\u003d\u003d\u003d0\u0026\u0026a%100!\u003d\u003d0||a%400\u003d\u003d\u003d0}function ia(){return ha(this.year())}function ja(a,b,c){var d,e\u003dc-b,f\u003dc-a.day();return f\u003ee\u0026\u0026(f-\u003d7),e-7\u003ef\u0026\u0026(f+\u003d7),d\u003dDa(a).add(f,\"d\"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ka(a){return ja(a,this._week.dow,this._week.doy).week}function la(){return this._week.dow}function ma(){return this._week.doy}function na(a){var b\u003dthis.localeData().week(this);return null\u003d\u003da?b:this.add(7*(a-b),\"d\")}function oa(a){var b\u003dja(this,1,4).week;return null\u003d\u003da?b:this.add(7*(a-b),\"d\")}function pa(a,b,c,d,e){var f,g\u003d6+e-d,h\u003dfa(a,0,1+g),i\u003dh.getUTCDay();return e\u003ei\u0026\u0026(i+\u003d7),c\u003dnull!\u003dc?1*c:e,f\u003d1+g+7*(b-1)-i+c,{year:f\u003e0?a:a-1,dayOfYear:f\u003e0?f:ga(a-1)+f}}function qa(a){var b\u003dMath.round((this.clone().startOf(\"day\")-this.clone().startOf(\"year\"))/864e5)+1;return null\u003d\u003da?b:this.add(a-b,\"d\")}function ra(a,b,c){return null!\u003da?a:null!\u003db?b:c}function sa(a){var b\u003dnew Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ta(a){var b,c,d,e,f\u003d[];if(!a._d){for(d\u003dsa(a),a._w\u0026\u0026null\u003d\u003da._a[hd]\u0026\u0026null\u003d\u003da._a[gd]\u0026\u0026ua(a),a._dayOfYear\u0026\u0026(e\u003dra(a._a[fd],d[fd]),a._dayOfYear\u003ega(e)\u0026\u0026(j(a)._overflowDayOfYear\u003d!0),c\u003dfa(e,0,a._dayOfYear),a._a[gd]\u003dc.getUTCMonth(),a._a[hd]\u003dc.getUTCDate()),b\u003d0;3\u003eb\u0026\u0026null\u003d\u003da._a[b];++b)a._a[b]\u003df[b]\u003dd[b];for(;7\u003eb;b++)a._a[b]\u003df[b]\u003dnull\u003d\u003da._a[b]?2\u003d\u003d\u003db?1:0:a._a[b];24\u003d\u003d\u003da._a[id]\u0026\u00260\u003d\u003d\u003da._a[jd]\u0026\u00260\u003d\u003d\u003da._a[kd]\u0026\u00260\u003d\u003d\u003da._a[ld]\u0026\u0026(a._nextDay\u003d!0,a._a[id]\u003d0),a._d\u003d(a._useUTC?fa:ea).apply(null,f),null!\u003da._tzm\u0026\u0026a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay\u0026\u0026(a._a[id]\u003d24)}}function ua(a){var b,c,d,e,f,g,h;b\u003da._w,null!\u003db.GG||null!\u003db.W||null!\u003db.E?(f\u003d1,g\u003d4,c\u003dra(b.GG,a._a[fd],ja(Da(),1,4).year),d\u003dra(b.W,1),e\u003dra(b.E,1)):(f\u003da._locale._week.dow,g\u003da._locale._week.doy,c\u003dra(b.gg,a._a[fd],ja(Da(),f,g).year),d\u003dra(b.w,1),null!\u003db.d?(e\u003db.d,f\u003ee\u0026\u0026++d):e\u003dnull!\u003db.e?b.e+f:f),h\u003dpa(c,d,e,g,f),a._a[fd]\u003dh.year,a._dayOfYear\u003dh.dayOfYear}function va(b){if(b._f\u003d\u003d\u003da.ISO_8601)return void ca(b);b._a\u003d[],j(b).empty\u003d!0;var c,d,e,f,g,h\u003d\"\"+b._i,i\u003dh.length,k\u003d0;for(e\u003dL(b._f,b._locale).match(Nc)||[],c\u003d0;c\u003ce.length;c++)f\u003de[c],d\u003d(h.match(O(f,b))||[])[0],d\u0026\u0026(g\u003dh.substr(0,h.indexOf(d)),g.length\u003e0\u0026\u0026j(b).unusedInput.push(g),h\u003dh.slice(h.indexOf(d)+d.length),k+\u003dd.length),Qc[f]?(d?j(b).empty\u003d!1:j(b).unusedTokens.push(f),S(f,d,b)):b._strict\u0026\u0026!d\u0026\u0026j(b).unusedTokens.push(f);j(b).charsLeftOver\u003di-k,h.length\u003e0\u0026\u0026j(b).unusedInput.push(h),j(b).bigHour\u003d\u003d\u003d!0\u0026\u0026b._a[id]\u003c\u003d12\u0026\u0026b._a[id]\u003e0\u0026\u0026(j(b).bigHour\u003dvoid 0),b._a[id]\u003dwa(b._locale,b._a[id],b._meridiem),ta(b),$(b)}function wa(a,b,c){var d;return null\u003d\u003dc?b:null!\u003da.meridiemHour?a.meridiemHour(b,c):null!\u003da.isPM?(d\u003da.isPM(c),d\u0026\u002612\u003eb\u0026\u0026(b+\u003d12),d||12!\u003d\u003db||(b\u003d0),b):b}function xa(a){var b,c,d,e,f;if(0\u003d\u003d\u003da._f.length)return j(a).invalidFormat\u003d!0,void(a._d\u003dnew Date(NaN));for(e\u003d0;e\u003ca._f.length;e++)f\u003d0,b\u003dm({},a),null!\u003da._useUTC\u0026\u0026(b._useUTC\u003da._useUTC),b._f\u003da._f[e],va(b),k(b)\u0026\u0026(f+\u003dj(b).charsLeftOver,f+\u003d10*j(b).unusedTokens.length,j(b).score\u003df,(null\u003d\u003dd||d\u003ef)\u0026\u0026(d\u003df,c\u003db));g(a,c||b)}function ya(a){if(!a._d){var b\u003dB(a._i);a._a\u003d[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ta(a)}}function za(a){var b\u003dnew n($(Aa(a)));return b._nextDay\u0026\u0026(b.add(1,\"d\"),b._nextDay\u003dvoid 0),b}function Aa(a){var b\u003da._i,e\u003da._f;return a._locale\u003da._locale||y(a._l),null\u003d\u003d\u003db||void 0\u003d\u003d\u003de\u0026\u0026\"\"\u003d\u003d\u003db?l({nullInput:!0}):(\"string\"\u003d\u003dtypeof b\u0026\u0026(a._i\u003db\u003da._locale.preparse(b)),o(b)?new n($(b)):(c(e)?xa(a):e?va(a):d(b)?a._d\u003db:Ba(a),a))}function Ba(b){var f\u003db._i;void 0\u003d\u003d\u003df?b._d\u003dnew Date:d(f)?b._d\u003dnew Date(+f):\"string\"\u003d\u003dtypeof f?da(b):c(f)?(b._a\u003de(f.slice(0),function(a){return parseInt(a,10)}),ta(b)):\"object\"\u003d\u003dtypeof f?ya(b):\"number\"\u003d\u003dtypeof f?b._d\u003dnew Date(f):a.createFromInputFallback(b)}function Ca(a,b,c,d,e){var f\u003d{};return\"boolean\"\u003d\u003dtypeof c\u0026\u0026(d\u003dc,c\u003dvoid 0),f._isAMomentObject\u003d!0,f._useUTC\u003df._isUTC\u003de,f._l\u003dc,f._i\u003da,f._f\u003db,f._strict\u003dd,za(f)}function Da(a,b,c,d){return Ca(a,b,c,d,!1)}function Ea(a,b){var d,e;if(1\u003d\u003d\u003db.length\u0026\u0026c(b[0])\u0026\u0026(b\u003db[0]),!b.length)return Da();for(d\u003db[0],e\u003d1;e\u003cb.length;++e)(!b[e].isValid()||b[e][a](d))\u0026\u0026(d\u003db[e]);return d}function Fa(){var a\u003d[].slice.call(arguments,0);return Ea(\"isBefore\",a)}function Ga(){var a\u003d[].slice.call(arguments,0);return Ea(\"isAfter\",a)}function Ha(a){var b\u003dB(a),c\u003db.year||0,d\u003db.quarter||0,e\u003db.month||0,f\u003db.week||0,g\u003db.day||0,h\u003db.hour||0,i\u003db.minute||0,j\u003db.second||0,k\u003db.millisecond||0;this._milliseconds\u003d+k+1e3*j+6e4*i+36e5*h,this._days\u003d+g+7*f,this._months\u003d+e+3*d+12*c,this._data\u003d{},this._locale\u003dy(),this._bubble()}function Ia(a){return a instanceof Ha}function Ja(a,b){H(a,0,0,function(){var a\u003dthis.utcOffset(),c\u003d\"+\";return 0\u003ea\u0026\u0026(a\u003d-a,c\u003d\"-\"),c+G(~~(a/60),2)+b+G(~~a%60,2)})}function Ka(a){var b\u003d(a||\"\").match(ad)||[],c\u003db[b.length-1]||[],d\u003d(c+\"\").match(xd)||[\"-\",0,0],e\u003d+(60*d[1])+q(d[2]);return\"+\"\u003d\u003d\u003dd[0]?e:-e}function La(b,c){var e,f;return c._isUTC?(e\u003dc.clone(),f\u003d(o(b)||d(b)?+b:+Da(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Da(b).local()}function Ma(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Na(b,c){var d,e\u003dthis._offset||0;return null!\u003db?(\"string\"\u003d\u003dtypeof b\u0026\u0026(b\u003dKa(b)),Math.abs(b)\u003c16\u0026\u0026(b\u003d60*b),!this._isUTC\u0026\u0026c\u0026\u0026(d\u003dMa(this)),this._offset\u003db,this._isUTC\u003d!0,null!\u003dd\u0026\u0026this.add(d,\"m\"),e!\u003d\u003db\u0026\u0026(!c||this._changeInProgress?bb(this,Ya(b-e,\"m\"),1,!1):this._changeInProgress||(this._changeInProgress\u003d!0,a.updateOffset(this,!0),this._changeInProgress\u003dnull)),this):this._isUTC?e:Ma(this)}function Oa(a,b){return null!\u003da?(\"string\"!\u003dtypeof a\u0026\u0026(a\u003d-a),this.utcOffset(a,b),this):-this.utcOffset()}function Pa(a){return this.utcOffset(0,a)}function Qa(a){return this._isUTC\u0026\u0026(this.utcOffset(0,a),this._isUTC\u003d!1,a\u0026\u0026this.subtract(Ma(this),\"m\")),this}function Ra(){return this._tzm?this.utcOffset(this._tzm):\"string\"\u003d\u003dtypeof this._i\u0026\u0026this.utcOffset(Ka(this._i)),this}function Sa(a){return a\u003da?Da(a).utcOffset():0,(this.utcOffset()-a)%60\u003d\u003d\u003d0}function Ta(){return this.utcOffset()\u003ethis.clone().month(0).utcOffset()||this.utcOffset()\u003ethis.clone().month(5).utcOffset()}function Ua(){if(\"undefined\"!\u003dtypeof this._isDSTShifted)return this._isDSTShifted;var a\u003d{};if(m(a,this),a\u003dAa(a),a._a){var b\u003da._isUTC?h(a._a):Da(a._a);this._isDSTShifted\u003dthis.isValid()\u0026\u0026r(a._a,b.toArray())\u003e0}else this._isDSTShifted\u003d!1;return this._isDSTShifted}function Va(){return!this._isUTC}function Wa(){return this._isUTC}function Xa(){return this._isUTC\u0026\u00260\u003d\u003d\u003dthis._offset}function Ya(a,b){var c,d,e,g\u003da,h\u003dnull;return Ia(a)?g\u003d{ms:a._milliseconds,d:a._days,M:a._months}:\"number\"\u003d\u003dtypeof a?(g\u003d{},b?g[b]\u003da:g.milliseconds\u003da):(h\u003dyd.exec(a))?(c\u003d\"-\"\u003d\u003d\u003dh[1]?-1:1,g\u003d{y:0,d:q(h[hd])*c,h:q(h[id])*c,m:q(h[jd])*c,s:q(h[kd])*c,ms:q(h[ld])*c}):(h\u003dzd.exec(a))?(c\u003d\"-\"\u003d\u003d\u003dh[1]?-1:1,g\u003d{y:Za(h[2],c),M:Za(h[3],c),d:Za(h[4],c),h:Za(h[5],c),m:Za(h[6],c),s:Za(h[7],c),w:Za(h[8],c)}):null\u003d\u003dg?g\u003d{}:\"object\"\u003d\u003dtypeof g\u0026\u0026(\"from\"in g||\"to\"in g)\u0026\u0026(e\u003d_a(Da(g.from),Da(g.to)),g\u003d{},g.ms\u003de.milliseconds,g.M\u003de.months),d\u003dnew Ha(g),Ia(a)\u0026\u0026f(a,\"_locale\")\u0026\u0026(d._locale\u003da._locale),d}function Za(a,b){var c\u003da\u0026\u0026parseFloat(a.replace(\",\",\".\"));return(isNaN(c)?0:c)*b}function $a(a,b){var c\u003d{milliseconds:0,months:0};return c.months\u003db.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,\"M\").isAfter(b)\u0026\u0026--c.months,c.milliseconds\u003d+b-+a.clone().add(c.months,\"M\"),c}function _a(a,b){var c;return b\u003dLa(b,a),a.isBefore(b)?c\u003d$a(a,b):(c\u003d$a(b,a),c.milliseconds\u003d-c.milliseconds,c.months\u003d-c.months),c}function ab(a,b){return function(c,d){var e,f;return null\u003d\u003d\u003dd||isNaN(+d)||(ba(b,\"moment().\"+b+\"(period, number) is deprecated. Please use moment().\"+b+\"(number, period).\"),f\u003dc,c\u003dd,d\u003df),c\u003d\"string\"\u003d\u003dtypeof c?+c:c,e\u003dYa(c,d),bb(this,e,a),this}}function bb(b,c,d,e){var f\u003dc._milliseconds,g\u003dc._days,h\u003dc._months;e\u003dnull\u003d\u003de?!0:e,f\u0026\u0026b._d.setTime(+b._d+f*d),g\u0026\u0026E(b,\"Date\",D(b,\"Date\")+g*d),h\u0026\u0026X(b,D(b,\"Month\")+h*d),e\u0026\u0026a.updateOffset(b,g||h)}function cb(a,b){var c\u003da||Da(),d\u003dLa(c,this).startOf(\"day\"),e\u003dthis.diff(d,\"days\",!0),f\u003d-6\u003ee?\"sameElse\":-1\u003ee?\"lastWeek\":0\u003ee?\"lastDay\":1\u003ee?\"sameDay\":2\u003ee?\"nextDay\":7\u003ee?\"nextWeek\":\"sameElse\";return this.format(b\u0026\u0026b[f]||this.localeData().calendar(f,this,Da(c)))}function db(){return new n(this)}function eb(a,b){var c;return b\u003dA(\"undefined\"!\u003dtypeof b?b:\"millisecond\"),\"millisecond\"\u003d\u003d\u003db?(a\u003do(a)?a:Da(a),+this\u003e+a):(c\u003do(a)?+a:+Da(a),c\u003c+this.clone().startOf(b))}function fb(a,b){var c;return b\u003dA(\"undefined\"!\u003dtypeof b?b:\"millisecond\"),\"millisecond\"\u003d\u003d\u003db?(a\u003do(a)?a:Da(a),+a\u003e+this):(c\u003do(a)?+a:+Da(a),+this.clone().endOf(b)\u003cc)}function gb(a,b,c){return this.isAfter(a,c)\u0026\u0026this.isBefore(b,c)}function hb(a,b){var c;return b\u003dA(b||\"millisecond\"),\"millisecond\"\u003d\u003d\u003db?(a\u003do(a)?a:Da(a),+this\u003d\u003d\u003d+a):(c\u003d+Da(a),+this.clone().startOf(b)\u003c\u003dc\u0026\u0026c\u003c\u003d+this.clone().endOf(b))}function ib(a,b,c){var d,e,f\u003dLa(a,this),g\u003d6e4*(f.utcOffset()-this.utcOffset());return b\u003dA(b),\"year\"\u003d\u003d\u003db||\"month\"\u003d\u003d\u003db||\"quarter\"\u003d\u003d\u003db?(e\u003djb(this,f),\"quarter\"\u003d\u003d\u003db?e/\u003d3:\"year\"\u003d\u003d\u003db\u0026\u0026(e/\u003d12)):(d\u003dthis-f,e\u003d\"second\"\u003d\u003d\u003db?d/1e3:\"minute\"\u003d\u003d\u003db?d/6e4:\"hour\"\u003d\u003d\u003db?d/36e5:\"day\"\u003d\u003d\u003db?(d-g)/864e5:\"week\"\u003d\u003d\u003db?(d-g)/6048e5:d),c?e:p(e)}function jb(a,b){var c,d,e\u003d12*(b.year()-a.year())+(b.month()-a.month()),f\u003da.clone().add(e,\"months\");return 0\u003eb-f?(c\u003da.clone().add(e-1,\"months\"),d\u003d(b-f)/(f-c)):(c\u003da.clone().add(e+1,\"months\"),d\u003d(b-f)/(c-f)),-(e+d)}function kb(){return this.clone().locale(\"en\").format(\"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\")}function lb(){var a\u003dthis.clone().utc();return 0\u003ca.year()\u0026\u0026a.year()\u003c\u003d9999?\"function\"\u003d\u003dtypeof Date.prototype.toISOString?this.toDate().toISOString():K(a,\"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]\"):K(a,\"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]\")}function mb(b){var c\u003dK(this,b||a.defaultFormat);return this.localeData().postformat(c)}function nb(a,b){return this.isValid()?Ya({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ob(a){return this.from(Da(),a)}function pb(a,b){return this.isValid()?Ya({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function qb(a){return this.to(Da(),a)}function rb(a){var b;return void 0\u003d\u003d\u003da?this._locale._abbr:(b\u003dy(a),null!\u003db\u0026\u0026(this._locale\u003db),this)}function sb(){return this._locale}function tb(a){switch(a\u003dA(a)){case\"year\":this.month(0);case\"quarter\":case\"month\":this.date(1);case\"week\":case\"isoWeek\":case\"day\":this.hours(0);case\"hour\":this.minutes(0);case\"minute\":this.seconds(0);case\"second\":this.milliseconds(0)}return\"week\"\u003d\u003d\u003da\u0026\u0026this.weekday(0),\"isoWeek\"\u003d\u003d\u003da\u0026\u0026this.isoWeekday(1),\"quarter\"\u003d\u003d\u003da\u0026\u0026this.month(3*Math.floor(this.month()/3)),this}function ub(a){return a\u003dA(a),void 0\u003d\u003d\u003da||\"millisecond\"\u003d\u003d\u003da?this:this.startOf(a).add(1,\"isoWeek\"\u003d\u003d\u003da?\"week\":a).subtract(1,\"ms\")}function vb(){return+this._d-6e4*(this._offset||0)}function wb(){return Math.floor(+this/1e3)}function xb(){return this._offset?new Date(+this):this._d}function yb(){var a\u003dthis;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function zb(){var a\u003dthis;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Ab(){return k(this)}function Bb(){return g({},j(this))}function Cb(){return j(this).overflow}function Db(a,b){H(0,[a,a.length],0,b)}function Eb(a,b,c){return ja(Da([a,11,31+b-c]),b,c).week}function Fb(a){var b\u003dja(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null\u003d\u003da?b:this.add(a-b,\"y\")}function Gb(a){var b\u003dja(this,1,4).year;return null\u003d\u003da?b:this.add(a-b,\"y\")}function Hb(){return Eb(this.year(),1,4)}function Ib(){var a\u003dthis.localeData()._week;return Eb(this.year(),a.dow,a.doy)}function Jb(a){return null\u003d\u003da?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Kb(a,b){return\"string\"!\u003dtypeof a?a:isNaN(a)?(a\u003db.weekdaysParse(a),\"number\"\u003d\u003dtypeof a?a:null):parseInt(a,10)}function Lb(a){return this._weekdays[a.day()]}function Mb(a){return this._weekdaysShort[a.day()]}function Nb(a){return this._weekdaysMin[a.day()]}function Ob(a){var b,c,d;for(this._weekdaysParse\u003dthis._weekdaysParse||[],b\u003d0;7\u003eb;b++)if(this._weekdaysParse[b]||(c\u003dDa([2e3,1]).day(b),d\u003d\"^\"+this.weekdays(c,\"\")+\"|^\"+this.weekdaysShort(c,\"\")+\"|^\"+this.weekdaysMin(c,\"\"),this._weekdaysParse[b]\u003dnew RegExp(d.replace(\".\",\"\"),\"i\")),this._weekdaysParse[b].test(a))return b}function Pb(a){var b\u003dthis._isUTC?this._d.getUTCDay():this._d.getDay();return null!\u003da?(a\u003dKb(a,this.localeData()),this.add(a-b,\"d\")):b}function Qb(a){var b\u003d(this.day()+7-this.localeData()._week.dow)%7;return null\u003d\u003da?b:this.add(a-b,\"d\")}function Rb(a){return null\u003d\u003da?this.day()||7:this.day(this.day()%7?a:a-7)}function Sb(a,b){H(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Tb(a,b){return b._meridiemParse}function Ub(a){return\"p\"\u003d\u003d\u003d(a+\"\").toLowerCase().charAt(0)}function Vb(a,b,c){return a\u003e11?c?\"pm\":\"PM\":c?\"am\":\"AM\"}function Wb(a,b){b[ld]\u003dq(1e3*(\"0.\"+a))}function Xb(){return this._isUTC?\"UTC\":\"\"}function Yb(){return this._isUTC?\"Coordinated Universal Time\":\"\"}function Zb(a){return Da(1e3*a)}function $b(){return Da.apply(null,arguments).parseZone()}function _b(a,b,c){var d\u003dthis._calendar[a];return\"function\"\u003d\u003dtypeof d?d.call(b,c):d}function ac(a){var b\u003dthis._longDateFormat[a],c\u003dthis._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]\u003dc.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function bc(){return this._invalidDate}function cc(a){return this._ordinal.replace(\"%d\",a)}function dc(a){return a}function ec(a,b,c,d){var e\u003dthis._relativeTime[c];return\"function\"\u003d\u003dtypeof e?e(a,b,c,d):e.replace(/%d/i,a)}function fc(a,b){var c\u003dthis._relativeTime[a\u003e0?\"future\":\"past\"];return\"function\"\u003d\u003dtypeof c?c(b):c.replace(/%s/i,b)}function gc(a){var b,c;for(c in a)b\u003da[c],\"function\"\u003d\u003dtypeof b?this[c]\u003db:this[\"_\"+c]\u003db;this._ordinalParseLenient\u003dnew RegExp(this._ordinalParse.source+\"|\"+/\\d{1,2}/.source)}function hc(a,b,c,d){var e\u003dy(),f\u003dh().set(d,b);return e[c](f,a)}function ic(a,b,c,d,e){if(\"number\"\u003d\u003dtypeof a\u0026\u0026(b\u003da,a\u003dvoid 0),a\u003da||\"\",null!\u003db)return hc(a,b,c,e);var f,g\u003d[];for(f\u003d0;d\u003ef;f++)g[f]\u003dhc(a,f,c,e);return g}function jc(a,b){return ic(a,b,\"months\",12,\"month\")}function kc(a,b){return ic(a,b,\"monthsShort\",12,\"month\")}function lc(a,b){return ic(a,b,\"weekdays\",7,\"day\")}function mc(a,b){return ic(a,b,\"weekdaysShort\",7,\"day\")}function nc(a,b){return ic(a,b,\"weekdaysMin\",7,\"day\")}function oc(){var a\u003dthis._data;return this._milliseconds\u003dWd(this._milliseconds),this._days\u003dWd(this._days),this._months\u003dWd(this._months),a.milliseconds\u003dWd(a.milliseconds),a.seconds\u003dWd(a.seconds),a.minutes\u003dWd(a.minutes),a.hours\u003dWd(a.hours),a.months\u003dWd(a.months),a.years\u003dWd(a.years),this}function pc(a,b,c,d){var e\u003dYa(b,c);return a._milliseconds+\u003dd*e._milliseconds,a._days+\u003dd*e._days,a._months+\u003dd*e._months,a._bubble()}function qc(a,b){return pc(this,a,b,1)}function rc(a,b){return pc(this,a,b,-1)}function sc(a){return 0\u003ea?Math.floor(a):Math.ceil(a)}function tc(){var a,b,c,d,e,f\u003dthis._milliseconds,g\u003dthis._days,h\u003dthis._months,i\u003dthis._data;return f\u003e\u003d0\u0026\u0026g\u003e\u003d0\u0026\u0026h\u003e\u003d0||0\u003e\u003df\u0026\u00260\u003e\u003dg\u0026\u00260\u003e\u003dh||(f+\u003d864e5*sc(vc(h)+g),g\u003d0,h\u003d0),i.milliseconds\u003df%1e3,a\u003dp(f/1e3),i.seconds\u003da%60,b\u003dp(a/60),i.minutes\u003db%60,c\u003dp(b/60),i.hours\u003dc%24,g+\u003dp(c/24),e\u003dp(uc(g)),h+\u003de,g-\u003dsc(vc(e)),d\u003dp(h/12),h%\u003d12,i.days\u003dg,i.months\u003dh,i.years\u003dd,this}function uc(a){return 4800*a/146097}function vc(a){return 146097*a/4800}function wc(a){var b,c,d\u003dthis._milliseconds;if(a\u003dA(a),\"month\"\u003d\u003d\u003da||\"year\"\u003d\u003d\u003da)return b\u003dthis._days+d/864e5,c\u003dthis._months+uc(b),\"month\"\u003d\u003d\u003da?c:c/12;switch(b\u003dthis._days+Math.round(vc(this._months)),a){case\"week\":return b/7+d/6048e5;case\"day\":return b+d/864e5;case\"hour\":return 24*b+d/36e5;case\"minute\":return 1440*b+d/6e4;case\"second\":return 86400*b+d/1e3;case\"millisecond\":return Math.floor(864e5*b)+d;default:throw new Error(\"Unknown unit \"+a)}}function xc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12)}function yc(a){return function(){return this.as(a)}}function zc(a){return a\u003dA(a),this[a+\"s\"]()}function Ac(a){return function(){return this._data[a]}}function Bc(){return p(this.days()/7)}function Cc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Dc(a,b,c){var d\u003dYa(a).abs(),e\u003dke(d.as(\"s\")),f\u003dke(d.as(\"m\")),g\u003dke(d.as(\"h\")),h\u003dke(d.as(\"d\")),i\u003dke(d.as(\"M\")),j\u003dke(d.as(\"y\")),k\u003de\u003cle.s\u0026\u0026[\"s\",e]||1\u003d\u003d\u003df\u0026\u0026[\"m\"]||f\u003cle.m\u0026\u0026[\"mm\",f]||1\u003d\u003d\u003dg\u0026\u0026[\"h\"]||g\u003cle.h\u0026\u0026[\"hh\",g]||1\u003d\u003d\u003dh\u0026\u0026[\"d\"]||h\u003cle.d\u0026\u0026[\"dd\",h]||1\u003d\u003d\u003di\u0026\u0026[\"M\"]||i\u003cle.M\u0026\u0026[\"MM\",i]||1\u003d\u003d\u003dj\u0026\u0026[\"y\"]||[\"yy\",j];return k[2]\u003db,k[3]\u003d+a\u003e0,k[4]\u003dc,Cc.apply(null,k)}function Ec(a,b){return void 0\u003d\u003d\u003dle[a]?!1:void 0\u003d\u003d\u003db?le[a]:(le[a]\u003db,!0)}function Fc(a){var b\u003dthis.localeData(),c\u003dDc(this,!a,b);return a\u0026\u0026(c\u003db.pastFuture(+this,c)),b.postformat(c)}function Gc(){var a,b,c,d\u003dme(this._milliseconds)/1e3,e\u003dme(this._days),f\u003dme(this._months);a\u003dp(d/60),b\u003dp(a/60),d%\u003d60,a%\u003d60,c\u003dp(f/12),f%\u003d12;var g\u003dc,h\u003df,i\u003de,j\u003db,k\u003da,l\u003dd,m\u003dthis.asSeconds();return m?(0\u003em?\"-\":\"\")+\"P\"+(g?g+\"Y\":\"\")+(h?h+\"M\":\"\")+(i?i+\"D\":\"\")+(j||k||l?\"T\":\"\")+(j?j+\"H\":\"\")+(k?k+\"M\":\"\")+(l?l+\"S\":\"\"):\"P0D\"}var Hc,Ic,Jc\u003da.momentProperties\u003d[],Kc\u003d!1,Lc\u003d{},Mc\u003d{},Nc\u003d/(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Oc\u003d/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pc\u003d{},Qc\u003d{},Rc\u003d/\\d/,Sc\u003d/\\d\\d/,Tc\u003d/\\d{3}/,Uc\u003d/\\d{4}/,Vc\u003d/[+-]?\\d{6}/,Wc\u003d/\\d\\d?/,Xc\u003d/\\d{1,3}/,Yc\u003d/\\d{1,4}/,Zc\u003d/[+-]?\\d{1,6}/,$c\u003d/\\d+/,_c\u003d/[+-]?\\d+/,ad\u003d/Z|[+-]\\d\\d:?\\d\\d/gi,bd\u003d/[+-]?\\d+(\\.\\d{1,3})?/,cd\u003d/[0-9]*[\u0027a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i,dd\u003d{},ed\u003d{},fd\u003d0,gd\u003d1,hd\u003d2,id\u003d3,jd\u003d4,kd\u003d5,ld\u003d6;H(\"M\",[\"MM\",2],\"Mo\",function(){return this.month()+1}),H(\"MMM\",0,0,function(a){return this.localeData().monthsShort(this,a)}),H(\"MMMM\",0,0,function(a){return this.localeData().months(this,a)}),z(\"month\",\"M\"),N(\"M\",Wc),N(\"MM\",Wc,Sc),N(\"MMM\",cd),N(\"MMMM\",cd),Q([\"M\",\"MM\"],function(a,b){b[gd]\u003dq(a)-1}),Q([\"MMM\",\"MMMM\"],function(a,b,c,d){var e\u003dc._locale.monthsParse(a,d,c._strict);null!\u003de?b[gd]\u003de:j(c).invalidMonth\u003da});var md\u003d\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),nd\u003d\"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\"),od\u003d{};a.suppressDeprecationWarnings\u003d!1;var pd\u003d/^\\s*(?:[+-]\\d{6}|\\d{4})-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,qd\u003d[[\"YYYYYY-MM-DD\",/[+-]\\d{6}-\\d{2}-\\d{2}/],[\"YYYY-MM-DD\",/\\d{4}-\\d{2}-\\d{2}/],[\"GGGG-[W]WW-E\",/\\d{4}-W\\d{2}-\\d/],[\"GGGG-[W]WW\",/\\d{4}-W\\d{2}/],[\"YYYY-DDD\",/\\d{4}-\\d{3}/]],rd\u003d[[\"HH:mm:ss.SSSS\",/(T| )\\d\\d:\\d\\d:\\d\\d\\.\\d+/],[\"HH:mm:ss\",/(T| )\\d\\d:\\d\\d:\\d\\d/],[\"HH:mm\",/(T| )\\d\\d:\\d\\d/],[\"HH\",/(T| )\\d\\d/]],sd\u003d/^\\/?Date\\((\\-?\\d+)/i;a.createFromInputFallback\u003daa(\"moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.\",function(a){a._d\u003dnew Date(a._i+(a._useUTC?\" UTC\":\"\"))}),H(0,[\"YY\",2],0,function(){return this.year()%100}),H(0,[\"YYYY\",4],0,\"year\"),H(0,[\"YYYYY\",5],0,\"year\"),H(0,[\"YYYYYY\",6,!0],0,\"year\"),z(\"year\",\"y\"),N(\"Y\",_c),N(\"YY\",Wc,Sc),N(\"YYYY\",Yc,Uc),N(\"YYYYY\",Zc,Vc),N(\"YYYYYY\",Zc,Vc),Q([\"YYYYY\",\"YYYYYY\"],fd),Q(\"YYYY\",function(b,c){c[fd]\u003d2\u003d\u003d\u003db.length?a.parseTwoDigitYear(b):q(b)}),Q(\"YY\",function(b,c){c[fd]\u003da.parseTwoDigitYear(b)}),a.parseTwoDigitYear\u003dfunction(a){return q(a)+(q(a)\u003e68?1900:2e3)};var td\u003dC(\"FullYear\",!1);H(\"w\",[\"ww\",2],\"wo\",\"week\"),H(\"W\",[\"WW\",2],\"Wo\",\"isoWeek\"),z(\"week\",\"w\"),z(\"isoWeek\",\"W\"),N(\"w\",Wc),N(\"ww\",Wc,Sc),N(\"W\",Wc),N(\"WW\",Wc,Sc),R([\"w\",\"ww\",\"W\",\"WW\"],function(a,b,c,d){b[d.substr(0,1)]\u003dq(a)});var ud\u003d{dow:0,doy:6};H(\"DDD\",[\"DDDD\",3],\"DDDo\",\"dayOfYear\"),z(\"dayOfYear\",\"DDD\"),N(\"DDD\",Xc),N(\"DDDD\",Tc),Q([\"DDD\",\"DDDD\"],function(a,b,c){c._dayOfYear\u003dq(a)}),a.ISO_8601\u003dfunction(){};var vd\u003daa(\"moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548\",function(){var a\u003dDa.apply(null,arguments);return this\u003ea?this:a}),wd\u003daa(\"moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548\",function(){var a\u003dDa.apply(null,arguments);return a\u003ethis?this:a});Ja(\"Z\",\":\"),Ja(\"ZZ\",\"\"),N(\"Z\",ad),N(\"ZZ\",ad),Q([\"Z\",\"ZZ\"],function(a,b,c){c._useUTC\u003d!0,c._tzm\u003dKa(a)});var xd\u003d/([\\+\\-]|\\d\\d)/gi;a.updateOffset\u003dfunction(){};var yd\u003d/(\\-)?(?:(\\d*)\\.)?(\\d+)\\:(\\d+)(?:\\:(\\d+)\\.?(\\d{3})?)?/,zd\u003d/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ya.fn\u003dHa.prototype;var Ad\u003dab(1,\"add\"),Bd\u003dab(-1,\"subtract\");a.defaultFormat\u003d\"YYYY-MM-DDTHH:mm:ssZ\";var Cd\u003daa(\"moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.\",function(a){return void 0\u003d\u003d\u003da?this.localeData():this.locale(a)});H(0,[\"gg\",2],0,function(){return this.weekYear()%100}),H(0,[\"GG\",2],0,function(){return this.isoWeekYear()%100}),Db(\"gggg\",\"weekYear\"),Db(\"ggggg\",\"weekYear\"),Db(\"GGGG\",\"isoWeekYear\"),Db(\"GGGGG\",\"isoWeekYear\"),z(\"weekYear\",\"gg\"),z(\"isoWeekYear\",\"GG\"),N(\"G\",_c),N(\"g\",_c),N(\"GG\",Wc,Sc),N(\"gg\",Wc,Sc),N(\"GGGG\",Yc,Uc),N(\"gggg\",Yc,Uc),N(\"GGGGG\",Zc,Vc),N(\"ggggg\",Zc,Vc),R([\"gggg\",\"ggggg\",\"GGGG\",\"GGGGG\"],function(a,b,c,d){b[d.substr(0,2)]\u003dq(a)}),R([\"gg\",\"GG\"],function(b,c,d,e){c[e]\u003da.parseTwoDigitYear(b)}),H(\"Q\",0,0,\"quarter\"),z(\"quarter\",\"Q\"),N(\"Q\",Rc),Q(\"Q\",function(a,b){b[gd]\u003d3*(q(a)-1)}),H(\"D\",[\"DD\",2],\"Do\",\"date\"),z(\"date\",\"D\"),N(\"D\",Wc),N(\"DD\",Wc,Sc),N(\"Do\",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),Q([\"D\",\"DD\"],hd),Q(\"Do\",function(a,b){b[hd]\u003dq(a.match(Wc)[0],10)});var Dd\u003dC(\"Date\",!0);H(\"d\",0,\"do\",\"day\"),H(\"dd\",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),H(\"ddd\",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),H(\"dddd\",0,0,function(a){return this.localeData().weekdays(this,a)}),H(\"e\",0,0,\"weekday\"),H(\"E\",0,0,\"isoWeekday\"),z(\"day\",\"d\"),z(\"weekday\",\"e\"),z(\"isoWeekday\",\"E\"),N(\"d\",Wc),N(\"e\",Wc),N(\"E\",Wc),N(\"dd\",cd),N(\"ddd\",cd),N(\"dddd\",cd),R([\"dd\",\"ddd\",\"dddd\"],function(a,b,c){var d\u003dc._locale.weekdaysParse(a);null!\u003dd?b.d\u003dd:j(c).invalidWeekday\u003da}),R([\"d\",\"e\",\"E\"],function(a,b,c,d){b[d]\u003dq(a)});var Ed\u003d\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),Fd\u003d\"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\"),Gd\u003d\"Su_Mo_Tu_We_Th_Fr_Sa\".split(\"_\");H(\"H\",[\"HH\",2],0,\"hour\"),H(\"h\",[\"hh\",2],0,function(){return this.hours()%12||12}),Sb(\"a\",!0),Sb(\"A\",!1),z(\"hour\",\"h\"),N(\"a\",Tb),N(\"A\",Tb),N(\"H\",Wc),N(\"h\",Wc),N(\"HH\",Wc,Sc),N(\"hh\",Wc,Sc),Q([\"H\",\"HH\"],id),Q([\"a\",\"A\"],function(a,b,c){c._isPm\u003dc._locale.isPM(a),c._meridiem\u003da}),Q([\"h\",\"hh\"],function(a,b,c){b[id]\u003dq(a),j(c).bigHour\u003d!0});var Hd\u003d/[ap]\\.?m?\\.?/i,Id\u003dC(\"Hours\",!0);H(\"m\",[\"mm\",2],0,\"minute\"),z(\"minute\",\"m\"),N(\"m\",Wc),N(\"mm\",Wc,Sc),Q([\"m\",\"mm\"],jd);var Jd\u003dC(\"Minutes\",!1);H(\"s\",[\"ss\",2],0,\"second\"),z(\"second\",\"s\"),N(\"s\",Wc),N(\"ss\",Wc,Sc),Q([\"s\",\"ss\"],kd);var Kd\u003dC(\"Seconds\",!1);H(\"S\",0,0,function(){return~~(this.millisecond()/100)}),H(0,[\"SS\",2],0,function(){return~~(this.millisecond()/10)}),H(0,[\"SSS\",3],0,\"millisecond\"),H(0,[\"SSSS\",4],0,function(){return 10*this.millisecond()}),H(0,[\"SSSSS\",5],0,function(){return 100*this.millisecond()}),H(0,[\"SSSSSS\",6],0,function(){return 1e3*this.millisecond()}),H(0,[\"SSSSSSS\",7],0,function(){return 1e4*this.millisecond()}),H(0,[\"SSSSSSSS\",8],0,function(){return 1e5*this.millisecond()}),H(0,[\"SSSSSSSSS\",9],0,function(){return 1e6*this.millisecond()}),z(\"millisecond\",\"ms\"),N(\"S\",Xc,Rc),N(\"SS\",Xc,Sc),N(\"SSS\",Xc,Tc);var Ld;for(Ld\u003d\"SSSS\";Ld.length\u003c\u003d9;Ld+\u003d\"S\")N(Ld,$c);for(Ld\u003d\"S\";Ld.length\u003c\u003d9;Ld+\u003d\"S\")Q(Ld,Wb);var Md\u003dC(\"Milliseconds\",!1);H(\"z\",0,0,\"zoneAbbr\"),H(\"zz\",0,0,\"zoneName\");var Nd\u003dn.prototype;Nd.add\u003dAd,Nd.calendar\u003dcb,Nd.clone\u003ddb,Nd.diff\u003dib,Nd.endOf\u003dub,Nd.format\u003dmb,Nd.from\u003dnb,Nd.fromNow\u003dob,Nd.to\u003dpb,Nd.toNow\u003dqb,Nd.get\u003dF,Nd.invalidAt\u003dCb,Nd.isAfter\u003deb,Nd.isBefore\u003dfb,Nd.isBetween\u003dgb,Nd.isSame\u003dhb,Nd.isValid\u003dAb,Nd.lang\u003dCd,Nd.locale\u003drb,Nd.localeData\u003dsb,Nd.max\u003dwd,Nd.min\u003dvd,Nd.parsingFlags\u003dBb,Nd.set\u003dF,Nd.startOf\u003dtb,Nd.subtract\u003dBd,Nd.toArray\u003dyb,Nd.toObject\u003dzb,Nd.toDate\u003dxb,Nd.toISOString\u003dlb,Nd.toJSON\u003dlb,Nd.toString\u003dkb,Nd.unix\u003dwb,Nd.valueOf\u003dvb,Nd.year\u003dtd,Nd.isLeapYear\u003dia,Nd.weekYear\u003dFb,Nd.isoWeekYear\u003dGb,Nd.quarter\u003dNd.quarters\u003dJb,Nd.month\u003dY,Nd.daysInMonth\u003dZ,Nd.week\u003dNd.weeks\u003dna,Nd.isoWeek\u003dNd.isoWeeks\u003doa,Nd.weeksInYear\u003dIb,Nd.isoWeeksInYear\u003dHb,Nd.date\u003dDd,Nd.day\u003dNd.days\u003dPb,Nd.weekday\u003dQb,Nd.isoWeekday\u003dRb,Nd.dayOfYear\u003dqa,Nd.hour\u003dNd.hours\u003dId,Nd.minute\u003dNd.minutes\u003dJd,Nd.second\u003dNd.seconds\u003dKd,\nNd.millisecond\u003dNd.milliseconds\u003dMd,Nd.utcOffset\u003dNa,Nd.utc\u003dPa,Nd.local\u003dQa,Nd.parseZone\u003dRa,Nd.hasAlignedHourOffset\u003dSa,Nd.isDST\u003dTa,Nd.isDSTShifted\u003dUa,Nd.isLocal\u003dVa,Nd.isUtcOffset\u003dWa,Nd.isUtc\u003dXa,Nd.isUTC\u003dXa,Nd.zoneAbbr\u003dXb,Nd.zoneName\u003dYb,Nd.dates\u003daa(\"dates accessor is deprecated. Use date instead.\",Dd),Nd.months\u003daa(\"months accessor is deprecated. Use month instead\",Y),Nd.years\u003daa(\"years accessor is deprecated. Use year instead\",td),Nd.zone\u003daa(\"moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779\",Oa);var Od\u003dNd,Pd\u003d{sameDay:\"[Today at] LT\",nextDay:\"[Tomorrow at] LT\",nextWeek:\"dddd [at] LT\",lastDay:\"[Yesterday at] LT\",lastWeek:\"[Last] dddd [at] LT\",sameElse:\"L\"},Qd\u003d{LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"},Rd\u003d\"Invalid date\",Sd\u003d\"%d\",Td\u003d/\\d{1,2}/,Ud\u003d{future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"},Vd\u003ds.prototype;Vd._calendar\u003dPd,Vd.calendar\u003d_b,Vd._longDateFormat\u003dQd,Vd.longDateFormat\u003dac,Vd._invalidDate\u003dRd,Vd.invalidDate\u003dbc,Vd._ordinal\u003dSd,Vd.ordinal\u003dcc,Vd._ordinalParse\u003dTd,Vd.preparse\u003ddc,Vd.postformat\u003ddc,Vd._relativeTime\u003dUd,Vd.relativeTime\u003dec,Vd.pastFuture\u003dfc,Vd.set\u003dgc,Vd.months\u003dU,Vd._months\u003dmd,Vd.monthsShort\u003dV,Vd._monthsShort\u003dnd,Vd.monthsParse\u003dW,Vd.week\u003dka,Vd._week\u003dud,Vd.firstDayOfYear\u003dma,Vd.firstDayOfWeek\u003dla,Vd.weekdays\u003dLb,Vd._weekdays\u003dEd,Vd.weekdaysMin\u003dNb,Vd._weekdaysMin\u003dGd,Vd.weekdaysShort\u003dMb,Vd._weekdaysShort\u003dFd,Vd.weekdaysParse\u003dOb,Vd.isPM\u003dUb,Vd._meridiemParse\u003dHd,Vd.meridiem\u003dVb,w(\"en\",{ordinalParse:/\\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b\u003da%10,c\u003d1\u003d\u003d\u003dq(a%100/10)?\"th\":1\u003d\u003d\u003db?\"st\":2\u003d\u003d\u003db?\"nd\":3\u003d\u003d\u003db?\"rd\":\"th\";return a+c}}),a.lang\u003daa(\"moment.lang is deprecated. Use moment.locale instead.\",w),a.langData\u003daa(\"moment.langData is deprecated. Use moment.localeData instead.\",y);var Wd\u003dMath.abs,Xd\u003dyc(\"ms\"),Yd\u003dyc(\"s\"),Zd\u003dyc(\"m\"),$d\u003dyc(\"h\"),_d\u003dyc(\"d\"),ae\u003dyc(\"w\"),be\u003dyc(\"M\"),ce\u003dyc(\"y\"),de\u003dAc(\"milliseconds\"),ee\u003dAc(\"seconds\"),fe\u003dAc(\"minutes\"),ge\u003dAc(\"hours\"),he\u003dAc(\"days\"),ie\u003dAc(\"months\"),je\u003dAc(\"years\"),ke\u003dMath.round,le\u003d{s:45,m:45,h:22,d:26,M:11},me\u003dMath.abs,ne\u003dHa.prototype;ne.abs\u003doc,ne.add\u003dqc,ne.subtract\u003drc,ne.as\u003dwc,ne.asMilliseconds\u003dXd,ne.asSeconds\u003dYd,ne.asMinutes\u003dZd,ne.asHours\u003d$d,ne.asDays\u003d_d,ne.asWeeks\u003dae,ne.asMonths\u003dbe,ne.asYears\u003dce,ne.valueOf\u003dxc,ne._bubble\u003dtc,ne.get\u003dzc,ne.milliseconds\u003dde,ne.seconds\u003dee,ne.minutes\u003dfe,ne.hours\u003dge,ne.days\u003dhe,ne.weeks\u003dBc,ne.months\u003die,ne.years\u003dje,ne.humanize\u003dFc,ne.toISOString\u003dGc,ne.toString\u003dGc,ne.toJSON\u003dGc,ne.locale\u003drb,ne.localeData\u003dsb,ne.toIsoString\u003daa(\"toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)\",Gc),ne.lang\u003dCd,H(\"X\",0,0,\"unix\"),H(\"x\",0,0,\"valueOf\"),N(\"x\",_c),N(\"X\",bd),Q(\"X\",function(a,b,c){c._d\u003dnew Date(1e3*parseFloat(a,10))}),Q(\"x\",function(a,b,c){c._d\u003dnew Date(q(a))}),a.version\u003d\"2.10.6\",b(Da),a.fn\u003dOd,a.min\u003dFa,a.max\u003dGa,a.utc\u003dh,a.unix\u003dZb,a.months\u003djc,a.isDate\u003dd,a.locale\u003dw,a.invalid\u003dl,a.duration\u003dYa,a.isMoment\u003do,a.weekdays\u003dlc,a.parseZone\u003d$b,a.localeData\u003dy,a.isDuration\u003dIa,a.monthsShort\u003dkc,a.weekdaysMin\u003dnc,a.defineLocale\u003dx,a.weekdaysShort\u003dmc,a.normalizeUnits\u003dA,a.relativeTimeThreshold\u003dEc;var oe\u003da;return oe});"
  }, {
    "name": "MailBuilder",
    "type": "server_js",
    "source": "function sendMail_(options) {\n  var title \u003d options.title;\n  var headerTitle \u003d options.headerTitle\n  var headerSubtitle \u003d options.headerSubtitle;\n  var mainTitle \u003d options.mainTitle;\n  var mainSubtitle \u003d options.mainSubtitle;\n  var mainContent \u003d options.mainContent;\n  var buttonLink \u003d options.buttonLink;\n  var buttonText \u003d options.buttonText;\n  \n  var failedFetch \u003d false;\n  \n  var templateResponse \u003d UrlFetchApp.fetch(\"https://marvinroger.github.io/upec-timetable-importer/script/helpers/mail/template.html\", {\n    muteHttpExceptions: true\n  });\n  \n  var template;\n  if (templateResponse.getResponseCode() !\u003d 200) {\n    failedFetch \u003d true;\n  } else {\n    template \u003d HtmlService.createTemplate(templateResponse.getContentText());\n  }\n  \n  var logoResponse \u003d UrlFetchApp.fetch(\"https://marvinroger.github.io/upec-timetable-importer/script/helpers/mail/img/logo.png\", {\n    muteHttpExceptions: true\n  });\n  \n  var logoBlob;\n  if (logoResponse.getResponseCode() !\u003d 200) {\n    failedFetch \u003d true;\n  } else {\n    logoBlob \u003d logoResponse.getAs(\"image/png\");\n  }\n  \n  var facebookResponse \u003d UrlFetchApp.fetch(\"https://marvinroger.github.io/upec-timetable-importer/script/helpers/mail/img/facebook.png\", {\n    muteHttpExceptions: true\n  });\n  \n  var facebookBlob;\n  if (facebookResponse.getResponseCode() !\u003d 200) {\n    failedFetch \u003d true;\n  } else {\n    facebookBlob \u003d facebookResponse.getAs(\"image/png\");\n  }\n  \n  var websiteResponse \u003d UrlFetchApp.fetch(\"https://marvinroger.github.io/upec-timetable-importer/script/helpers/mail/img/website.png\", {\n    muteHttpExceptions: true\n  });\n  \n  var websiteBlob;\n  if (websiteResponse.getResponseCode() !\u003d 200) {\n    failedFetch \u003d true;\n  } else {\n    websiteBlob \u003d websiteResponse.getAs(\"image/png\");\n  }\n  \n  var email \u003d Session.getActiveUser().getEmail();\n  \n  var textMail \u003d mainTitle + \u0027\\n\u0027;\n  textMail +\u003d mainSubtitle + \u0027\\n\\n\u0027;\n  textMail +\u003d mainContent + \u0027\\n\\n\u0027;\n  textMail +\u003d buttonText + \u0027 : \u0027 + buttonLink;\n  \n  if (!failedFetch) {\n    template.headerTitle \u003d headerTitle;\n    template.headerSubtitle \u003d headerSubtitle;\n    template.mainTitle \u003d mainTitle;\n    template.mainSubtitle \u003d mainSubtitle;\n    template.mainContent \u003d mainContent;\n    template.buttonLink \u003d buttonLink;\n    template.buttonText \u003d buttonText;\n    \n    var html \u003d template.evaluate().getContent();\n    \n    GmailApp.sendEmail(email, title, textMail, {\n      name: \u0027Importateur emploi du temps UPEC\u0027,\n      htmlBody: html,\n      inlineImages: {\n        logo: logoBlob,\n        facebook: facebookBlob,\n        website: websiteBlob\n      }\n    });\n  } else {\n    var simplifiedHtml \u003d \u0027\u003ch1\u003e\u0027 + headerTitle + \u0027\u003c/h1\u003e\u0027;\n    simplifiedHtml +\u003d \u0027\u003ch2\u003e\u0027 + headerSubtitle + \u0027\u003c/h2\u003e\u003cbr\u003e\u0027;\n    simplifiedHtml +\u003d \u0027\u003ch3\u003e\u0027 + mainTitle + \u0027\u003c/h3\u003e\u0027;\n    simplifiedHtml +\u003d \u0027\u003ch4\u003e\u0027 + mainSubtitle + \u0027\u003c/h4\u003e\u0027;\n    simplifiedHtml +\u003d \u0027\u003cp\u003e\u0027 + mainContent + \u0027\u003c/p\u003e\u003cbr\u003e\u0027;\n    simplifiedHtml +\u003d \u0027\u003ca href\u003d\"\u0027 + buttonLink + \u0027\"\u003e\u0027 + buttonText + \u0027\u003c/a\u003e\u0027;\n\n    GmailApp.sendEmail(email, title, textMail, {\n      name: \u0027Importateur emploi du temps UPEC\u0027,\n      htmlBody: simplifiedHtml\n    });\n  }\n}"
  }]
}